# Copyright 2023 Canonical Ltd.
# See LICENSE file for licensing details.
name: knative-operator
summary: Kubernetes charm for knative-operator.
description: |
  The knative-operator defines custom resources for the Knative components,
  serving and eventing.
docs: https://discourse.charmhub.io/t/11956
containers:
  knative-operator:
    resource: knative-operator-image
  knative-operator-webhook:
    resource: knative-operator-webhook-image
provides:
  otel-collector:
    interface: otel-collector
  metrics-endpoint:
    interface: prometheus_scrape
requires:
  logging:
    interface: loki_push_api
    optional: true
resources:
  knative-operator-image:
    type: oci-image
    description: OCI image for knative-operator
    upstream-source: gcr.io/knative-releases/knative.dev/operator/cmd/operator@sha256:18e7a0c612efdce11d9d396fa9a1469fa206bdb2a817b5426a595ed57a5c3daf
  knative-operator-webhook-image:
    type: oci-image
    description: OCI image for knative-operator's operator-webhook component
    upstream-source: gcr.io/knative-releases/knative.dev/operator/cmd/webhook@sha256:dc2b23c9f66869a8617a51f2f0af0f56d9dc6a85b71cff587161eb9711aef26a
